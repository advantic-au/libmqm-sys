name: mqc-redist
description: Downloads the MQ client library redist from IBM

inputs:
  path:
    description: Path to download the MQ client library
    required: true
  mq-client-version:
    description: MQ client version
    required: true

runs:
  using: composite
  steps:
    - name: Cache MQC redist
      uses: actions/cache@v4
      id: cache-mqc-redist
      with:
        path: ${{ inputs.path }}
        key: mqclient-${{ runner.os }}-${{ inputs.mq-client-version }}
    - if: ${{ steps.cache-mqc-redist.outputs.cache-hit != 'true' }}
      name: Download MQC client
      uses: eyfSV/setup-mqclient@v0.3.1
      with:
        mq-client-version: ${{ inputs.mq-client-version }}
        path: ${{ inputs.path }}
